/*
 * Copyright (c) 2023 Nordic Semiconductor ASA
 *
 * SPDX-License-Identifier: Apache-2.0
 */

#include "NHW_misc_int.h"
#include "nrf_bsim_redef.h"
/* The nrf_bsim_redef.h header which is meant to hack the
 * nrf definitions only provides declarations for the
 * registers structures for a given core. So we need to declare
 * the ones that are exclusive for either core here.
 *
 * If at some point we have more uses for a bulk peripheral definitions
 * of all peripherals in a SOC consider moving it to a separate header
 */
extern NRF_AAR_Type NRF_AAR_regs;
extern NRF_CCM_Type NRF_CCM_regs;
extern NRF_ECB_Type NRF_ECB_regs;
extern NRF_NFCT_Type NRF_NFCT_regs;
extern NRF_RADIO_Type NRF_RADIO_regs;
extern NRF_RNG_Type NRF_RNG_regs;
extern int NRF_SWI_regs[];
extern NRF_TEMP_Type NRF_TEMP_regs;
extern NRF_VREQCTRL_Type NRF_VREQCTRL_regs;
extern NRF_SPU_Type NRF_SPU_regs[];

uint nhw_get_simu_real_conv_table(struct simu_real_conv_table_t **table) {
  struct simu_real_conv_table_t simu_real_conv_init[] = {
    /* Note for the 5340 we cannot use the HAL macros, as these
     * macros exist only for either the app or net core */

    /***** Application core *****/
    //{(void *)NRF_CACHEDATA_S_BASE    ,NRF_CACHEDATA_S_APP_BASE_REAL_HW, sizeof(NRF_CACHEDATA_Type) },
    //{(void *)NRF_CACHEINFO_S_BASE    ,NRF_CACHEINFO_S_APP_BASE_REAL_HW, sizeof(NRF_CACHEINFO_Type) },
    {(void *)(NRF_FICR_regs_p[NHW_FICR_APP])  ,0x00FF0000UL, sizeof(NRF_FICR_APP_Type)},
    {(void *)(NRF_UICR_regs_p[NHW_UICR_APP0]) ,0x00FF8000UL, sizeof(NRF_UICR_Type)},
    //{(void *)NRF_CTI_S_BASE          ,0xE0042000UL, sizeof(NRF_*_Type)},
    //{(void *)NRF_TAD_S_BASE          ,0xE0080000UL, sizeof(NRF_*_Type)},
    //{(void *)NRF_DCNF_NS_BASE        ,0x40000000UL, sizeof(NRF_*_Type)},
    //{(void *)NRF_FPU_NS_BASE         ,0x40000000UL, sizeof(NRF_*_Type)},
    //{(void *)NRF_DCNF_S_BASE         ,0x50000000UL, sizeof(NRF_*_Type)},
    //{(void *)NRF_FPU_S_BASE          ,0x50000000UL, sizeof(NRF_*_Type)},
    //{(void *)NRF_CACHE_S_BASE        ,0x50001000UL, sizeof(NRF_*_Type)},
    //{(void *)NRF_SPU_S_BASE          ,0x50003000UL, sizeof(NRF_*_Type)},
    //{(void *)NRF_OSCILLATORS_NS_BASE ,0x40004000UL, sizeof(NRF_*_Type)},
    //{(void *)NRF_REGULATORS_NS_BASE  ,0x40004000UL, sizeof(NRF_*_Type)},
    //{(void *)NRF_OSCILLATORS_S_BASE  ,0x50004000UL, sizeof(NRF_*_Type)},
    //{(void *)NRF_REGULATORS_S_BASE   ,0x50004000UL, sizeof(NRF_*_Type)},
    {(void *)(NRF_CLOCK_regs[NHW_CLKPWR_APP0]) ,0x40005000UL, sizeof(NRF_CLOCK_Type)},
    {(void *)(NRF_POWER_regs[NHW_CLKPWR_APP0]) ,0x40005000UL, sizeof(NRF_POWER_Type)},
    {(void *)(NRF_RESET_regs[NHW_CLKPWR_APP0]) ,0x40005000UL, sizeof(NRF_RESET_Type)},
    {(void *)(NRF_CLOCK_regs[NHW_CLKPWR_APP0]) ,0x50005000UL, sizeof(NRF_CLOCK_Type)},
    {(void *)(NRF_POWER_regs[NHW_CLKPWR_APP0]) ,0x50005000UL, sizeof(NRF_POWER_Type)},
    {(void *)(NRF_RESET_regs[NHW_CLKPWR_APP0]) ,0x50005000UL, sizeof(NRF_RESET_Type)},
    //{(void *)NRF_CTRLAP_NS_BASE      ,0x40006000U, sizeof(NRF_*_Type)},
    //{(void *)NRF_CTRLAP_S_BASE       ,0x50006000U, sizeof(NRF_*_Type)},
    //{(void *)NRF_SPIM0_NS_BASE       ,0x40008000U, sizeof(NRF_*_Type)},
    //{(void *)NRF_SPIS0_NS_BASE       ,0x40008000U, sizeof(NRF_*_Type)},
    //{(void *)NRF_TWIM0_NS_BASE       ,0x40008000U, sizeof(NRF_*_Type)},
    //{(void *)NRF_TWIS0_NS_BASE       ,0x40008000U, sizeof(NRF_*_Type)},
    {(void *)(&NRF_UARTE_regs[NHW_UARTE_APP0]) ,0x40008000UL, sizeof(NRF_UARTE_Type)},
    //{(void *)NRF_SPIM0_S_BASE        ,0x50008000UL, sizeof(NRF_*_Type)},
    //{(void *)NRF_SPIS0_S_BASE        ,0x50008000UL, sizeof(NRF_*_Type)},
    //{(void *)NRF_TWIM0_S_BASE        ,0x50008000UL, sizeof(NRF_*_Type)},
    //{(void *)NRF_TWIS0_S_BASE        ,0x50008000UL, sizeof(NRF_*_Type)},
    {(void *)(&NRF_UARTE_regs[NHW_UARTE_APP0]) ,0x50008000UL, sizeof(NRF_UARTE_Type)},
    //{(void *)NRF_SPIM1_NS_BASE       ,0x40009000UL, sizeof(NRF_*_Type)},
    //{(void *)NRF_SPIS1_NS_BASE       ,0x40009000UL, sizeof(NRF_*_Type)},
    //{(void *)NRF_TWIM1_NS_BASE       ,0x40009000UL, sizeof(NRF_*_Type)},
    //{(void *)NRF_TWIS1_NS_BASE       ,0x40009000UL, sizeof(NRF_*_Type)},
    {(void *)(&NRF_UARTE_regs[NHW_UARTE_APP1]) ,0x40009000UL, sizeof(NRF_UARTE_Type)},
    //{(void *)NRF_SPIM1_S_BASE        ,0x50009000UL, sizeof(NRF_*_Type)},
    //{(void *)NRF_SPIS1_S_BASE        ,0x50009000UL, sizeof(NRF_*_Type)},
    //{(void *)NRF_TWIM1_S_BASE        ,0x50009000UL, sizeof(NRF_*_Type)},
    //{(void *)NRF_TWIS1_S_BASE        ,0x50009000UL, sizeof(NRF_*_Type)},
    {(void *)(&NRF_UARTE_regs[NHW_UARTE_APP1]) ,0x50009000UL, sizeof(NRF_UARTE_Type)},
    //{(void *)NRF_SPIM4_NS_BASE       ,0x4000A000UL, sizeof(NRF_*_Type)},
    //{(void *)NRF_SPIM4_S_BASE        ,0x5000A000UL, sizeof(NRF_*_Type)},
    //{(void *)NRF_SPIM2_NS_BASE       ,0x4000B000UL, sizeof(NRF_*_Type)},
    //{(void *)NRF_SPIS2_NS_BASE       ,0x4000B000UL, sizeof(NRF_*_Type)},
    //{(void *)NRF_TWIM2_NS_BASE       ,0x4000B000UL, sizeof(NRF_*_Type)},
    //{(void *)NRF_TWIS2_NS_BASE       ,0x4000B000UL, sizeof(NRF_*_Type)},
    {(void *)(&NRF_UARTE_regs[NHW_UARTE_APP2]) ,0x4000B000UL, sizeof(NRF_UARTE_Type)},
    //{(void *)NRF_SPIM2_S_BASE        ,0x5000B000UL, sizeof(NRF_*_Type)},
    //{(void *)NRF_SPIS2_S_BASE        ,0x5000B000UL, sizeof(NRF_*_Type)},
    //{(void *)NRF_TWIM2_S_BASE        ,0x5000B000UL, sizeof(NRF_*_Type)},
    //{(void *)NRF_TWIS2_S_BASE        ,0x5000B000UL, sizeof(NRF_*_Type)},
    {(void *)(&NRF_UARTE_regs[NHW_UARTE_APP2]) ,0x5000B000UL, sizeof(NRF_UARTE_Type)},
    //{(void *)NRF_SPIM3_NS_BASE       ,0x4000C000UL, sizeof(NRF_*_Type)},
    //{(void *)NRF_SPIS3_NS_BASE       ,0x4000C000UL, sizeof(NRF_*_Type)},
    //{(void *)NRF_TWIM3_NS_BASE       ,0x4000C000UL, sizeof(NRF_*_Type)},
    //{(void *)NRF_TWIS3_NS_BASE       ,0x4000C000UL, sizeof(NRF_*_Type)},
    {(void *)(&NRF_UARTE_regs[NHW_UARTE_APP3]) ,0x4000C000UL, sizeof(NRF_UARTE_Type)},
    //{(void *)NRF_SPIM3_S_BASE        ,0x5000C000UL, sizeof(NRF_*_Type)},
    //{(void *)NRF_SPIS3_S_BASE        ,0x5000C000UL, sizeof(NRF_*_Type)},
    //{(void *)NRF_TWIM3_S_BASE        ,0x5000C000UL, sizeof(NRF_*_Type)},
    //{(void *)NRF_TWIS3_S_BASE        ,0x5000C000UL, sizeof(NRF_*_Type)},
    {(void *)(&NRF_UARTE_regs[NHW_UARTE_APP3])   ,0x5000C000UL, sizeof(NRF_UARTE_Type)},
    {(void *)(&NRF_GPIOTE_regs[NHW_GPIOTE_APP0]) ,0x5000D000UL, sizeof(NRF_GPIOTE_Type)},
    //{(void *)NRF_SAADC_NS_BASE       ,0x4000E000UL, sizeof(NRF_*_Type)},
    //{(void *)NRF_SAADC_S_BASE        ,0x5000E000UL, sizeof(NRF_*_Type)},
    {(void *)(&NRF_TIMER_regs[NHW_TIMER_APP0]) ,0x4000F000UL, sizeof(NRF_TIMER_Type)},
    {(void *)(&NRF_TIMER_regs[NHW_TIMER_APP0]) ,0x5000F000UL, sizeof(NRF_TIMER_Type)},
    {(void *)(&NRF_TIMER_regs[NHW_TIMER_APP1]) ,0x40010000UL, sizeof(NRF_TIMER_Type)},
    {(void *)(&NRF_TIMER_regs[NHW_TIMER_APP1]) ,0x50010000UL, sizeof(NRF_TIMER_Type)},
    {(void *)(&NRF_TIMER_regs[NHW_TIMER_APP2]) ,0x40011000UL, sizeof(NRF_TIMER_Type)},
    {(void *)(&NRF_TIMER_regs[NHW_TIMER_APP2]) ,0x50011000UL, sizeof(NRF_TIMER_Type)},
    {(void *)(&NRF_RTC_regs[NHW_RTC_APP0])     ,0x40014000UL, sizeof(NRF_RTC_Type)},
    {(void *)(&NRF_RTC_regs[NHW_RTC_APP0])     ,0x50014000UL, sizeof(NRF_RTC_Type)},
    {(void *)(&NRF_RTC_regs[NHW_RTC_APP1])     ,0x40015000UL, sizeof(NRF_RTC_Type)},
    {(void *)(&NRF_RTC_regs[NHW_RTC_APP1])     ,0x50015000UL, sizeof(NRF_RTC_Type)},
    {(void *)(&NRF_DPPIC_regs[NHW_DPPI_APP_0]) ,0x40017000UL, sizeof(NRF_DPPIC_Type)},
    {(void *)(&NRF_DPPIC_regs[NHW_DPPI_APP_0]) ,0x50017000UL, sizeof(NRF_DPPIC_Type)},
    //{(void *)NRF_WDT0_NS_BASE        ,0x40018000UL, sizeof(NRF_*_Type)},
    //{(void *)NRF_WDT0_S_BASE         ,0x50018000UL, sizeof(NRF_*_Type)},
    //{(void *)NRF_WDT1_NS_BASE        ,0x40019000UL, sizeof(NRF_*_Type)},
    //{(void *)NRF_WDT1_S_BASE         ,0x50019000UL, sizeof(NRF_*_Type)},
    //{(void *)NRF_COMP_NS_BASE        ,0x4001A000UL, sizeof(NRF_*_Type)},
    //{(void *)NRF_LPCOMP_NS_BASE      ,0x4001A000UL, sizeof(NRF_*_Type)},
    //{(void *)NRF_COMP_S_BASE         ,0x5001A000UL, sizeof(NRF_*_Type)},
    //{(void *)NRF_LPCOMP_S_BASE       ,0x5001A000UL, sizeof(NRF_*_Type)},
    {(void *)(&NRF_EGU_regs[NHW_EGU_APP0]) ,0x4001B000UL, sizeof(NRF_EGU_Type)},
    {(void *)(&NRF_EGU_regs[NHW_EGU_APP0]) ,0x5001B000UL, sizeof(NRF_EGU_Type)},
    {(void *)(&NRF_EGU_regs[NHW_EGU_APP1]) ,0x4001C000UL, sizeof(NRF_EGU_Type)},
    {(void *)(&NRF_EGU_regs[NHW_EGU_APP1]) ,0x5001C000UL, sizeof(NRF_EGU_Type)},
    {(void *)(&NRF_EGU_regs[NHW_EGU_APP2]) ,0x4001D000UL, sizeof(NRF_EGU_Type)},
    {(void *)(&NRF_EGU_regs[NHW_EGU_APP2]) ,0x5001D000UL, sizeof(NRF_EGU_Type)},
    {(void *)(&NRF_EGU_regs[NHW_EGU_APP3]) ,0x4001E000UL, sizeof(NRF_EGU_Type)},
    {(void *)(&NRF_EGU_regs[NHW_EGU_APP3]) ,0x5001E000UL, sizeof(NRF_EGU_Type)},
    {(void *)(&NRF_EGU_regs[NHW_EGU_APP4]) ,0x4001F000UL, sizeof(NRF_EGU_Type)},
    {(void *)(&NRF_EGU_regs[NHW_EGU_APP4]) ,0x5001F000UL, sizeof(NRF_EGU_Type)},
    {(void *)(&NRF_EGU_regs[NHW_EGU_APP5]) ,0x40020000UL, sizeof(NRF_EGU_Type)},
    {(void *)(&NRF_EGU_regs[NHW_EGU_APP5]) ,0x50020000UL, sizeof(NRF_EGU_Type)},
    //{(void *)NRF_PWM0_NS_BASE        ,0x40021000UL, sizeof(NRF_*_Type)},
    //{(void *)NRF_PWM0_S_BASE         ,0x50021000UL, sizeof(NRF_*_Type)},
    //{(void *)NRF_PWM1_NS_BASE        ,0x40022000UL, sizeof(NRF_*_Type)},
    //{(void *)NRF_PWM1_S_BASE         ,0x50022000UL, sizeof(NRF_*_Type)},
    //{(void *)NRF_PWM2_NS_BASE        ,0x40023000UL, sizeof(NRF_*_Type)},
    //{(void *)NRF_PWM2_S_BASE         ,0x50023000UL, sizeof(NRF_*_Type)},
    //{(void *)NRF_PWM3_NS_BASE        ,0x40024000UL, sizeof(NRF_*_Type)},
    //{(void *)NRF_PWM3_S_BASE         ,0x50024000UL, sizeof(NRF_*_Type)},
    //{(void *)NRF_PDM0_NS_BASE        ,0x40026000UL, sizeof(NRF_*_Type)},
    //{(void *)NRF_PDM0_S_BASE         ,0x50026000UL, sizeof(NRF_*_Type)},
    //{(void *)NRF_I2S0_NS_BASE        ,0x40028000UL, sizeof(NRF_*_Type)},
    //{(void *)NRF_I2S0_S_BASE         ,0x50028000UL, sizeof(NRF_*_Type)},
    {(void *)(&NRF_IPC_regs[NHW_IPC_APP0]) ,0x4002A000UL, sizeof(NRF_IPC_Type)},
    {(void *)(&NRF_IPC_regs[NHW_IPC_APP0]) ,0x5002A000UL, sizeof(NRF_IPC_Type)},
    //{(void *)NRF_QSPI_NS_BASE        ,0x4002B000UL, sizeof(NRF_*_Type)},
    //{(void *)NRF_QSPI_S_BASE         ,0x5002B000UL, sizeof(NRF_*_Type)},
    //{(void *)NRF_NFCT_NS_BASE        ,0x4002D000UL, sizeof(NRF_*_Type)},
    //{(void *)NRF_NFCT_S_BASE         ,0x5002D000UL, sizeof(NRF_*_Type)},
    {(void *)(&NRF_GPIOTE_regs[NHW_GPIOTE_APP1]) ,0x4002F000UL, sizeof(NRF_GPIOTE_Type)},
    {(void *)(&NRF_MUTEX_regs)                   ,0x40030000UL, sizeof(NRF_MUTEX_Type)},
    {(void *)(&NRF_MUTEX_regs)                   ,0x50030000UL, sizeof(NRF_MUTEX_Type)},
    //{(void *)NRF_QDEC0_NS_BASE       ,0x40033000UL, sizeof(NRF_*_Type)},
    //{(void *)NRF_QDEC0_S_BASE        ,0x50033000UL, sizeof(NRF_*_Type)},
    //{(void *)NRF_QDEC1_NS_BASE       ,0x40034000UL, sizeof(NRF_*_Type)},
    //{(void *)NRF_QDEC1_S_BASE        ,0x50034000UL, sizeof(NRF_*_Type)},
    //{(void *)NRF_USBD_NS_BASE        ,0x40036000UL, sizeof(NRF_*_Type)},
    //{(void *)NRF_USBD_S_BASE         ,0x50036000UL, sizeof(NRF_*_Type)},
    //{(void *)NRF_USBREGULATOR_NS_BASE,0x40037000UL, sizeof(NRF_*_Type)},
    //{(void *)NRF_USBREGULATOR_S_BASE ,0x50037000UL, sizeof(NRF_*_Type)},
    //{(void *)NRF_KMU_NS_BASE         ,0x40039000UL, sizeof(NRF_*_Type)},
    {(void *)(NRF_NVMC_regs_p[NHW_NVMC_APP0]) ,0x40039000UL, sizeof(NRF_NVMC_Type)},
    //{(void *)NRF_KMU_S_BASE          ,0x50039000UL, sizeof(NRF_*_Type)},
    {(void *)(NRF_NVMC_regs_p[NHW_NVMC_APP0])  ,0x50039000UL, sizeof(NRF_NVMC_Type)},
    {(void *)(&NRF_GPIO_regs[NHW_GPIO_APP_P0]) ,0x40842500UL, sizeof(NRF_GPIO_Type)},
    {(void *)(&NRF_GPIO_regs[NHW_GPIO_APP_P1]) ,0x40842800UL, sizeof(NRF_GPIO_Type)},
    {(void *)(&NRF_GPIO_regs[NHW_GPIO_APP_P0]) ,0x50842500UL, sizeof(NRF_GPIO_Type)},
    {(void *)(&NRF_GPIO_regs[NHW_GPIO_APP_P1]) ,0x50842800UL, sizeof(NRF_GPIO_Type)},
    //{(void *)NRF_CRYPTOCELL_S_BASE   ,0x50844000UL, sizeof(NRF_*_Type)},
    //{(void *)NRF_VMC_NS_BASE         ,0x40081000UL, sizeof(NRF_*_Type)},
    //{(void *)NRF_VMC_S_BASE          ,0x50081000UL, sizeof(NRF_*_Type)},

    /***** Network core: *****/
    {(void *)(NRF_FICR_regs_p[NHW_FICR_NET])  ,0x01FF0000UL, sizeof(NRF_FICR_NET_Type)},
    {(void *)(NRF_UICR_regs_p[NHW_UICR_NET0]) ,0x01FF8000UL, sizeof(NRF_UICR_Type)},
    //{(void *)NRF_CTI_NS_BASE         ,0xE0042000UL, sizeof(NRF_*_Type)},
    //{(void *)NRF_DCNF_NS_BASE        ,0x41000000UL, sizeof(NRF_*_Type)},
    {(void *)(&NRF_VREQCTRL_regs)              ,0x41004000UL, sizeof(NRF_VREQCTRL_Type)},
    {(void *)(NRF_CLOCK_regs[NHW_CLKPWR_NET0]) ,0x41005000UL, sizeof(NRF_CLOCK_Type)},
    {(void *)(NRF_POWER_regs[NHW_CLKPWR_NET0]) ,0x41005000UL, sizeof(NRF_POWER_Type)},
    {(void *)(NRF_RESET_regs[NHW_CLKPWR_NET0]) ,0x41005000UL, sizeof(NRF_RESET_Type)},
    //{(void *)NRF_CTRLAP_NS_BASE      ,0x41006000UL, sizeof(NRF_*_Type)},
    {(void *)(&NRF_RADIO_regs)                  ,0x41008000UL, sizeof(NRF_RADIO_Type)},
    {(void *)(&NRF_RNG_regs)                    ,0x41009000UL, sizeof(NRF_RNG_Type)},
    {(void *)(&NRF_GPIOTE_regs[NHW_GPIOTE_NET]) ,0x4100A000UL, sizeof(NRF_GPIOTE_Type)},
    //{(void *)NRF_WDT_NS_BASE         ,0x4100B000UL, sizeof(NRF_*_Type)},
    {(void *)(&NRF_TIMER_regs[NHW_TIMER_NET0]) ,0x4100C000UL, sizeof(NRF_TIMER_Type)},
    {(void *)(&NRF_ECB_regs)                   ,0x4100D000UL, sizeof(NRF_ECB_Type)},
    {(void *)(&NRF_AAR_regs)                   ,0x4100E000UL, sizeof(NRF_AAR_Type)},
    {(void *)(&NRF_CCM_regs)                   ,0x4100E000UL, sizeof(NRF_CCM_Type)},
    {(void *)(&NRF_DPPIC_regs[NHW_DPPI_NET_0]) ,0x4100F000UL, sizeof(NRF_DPPIC_Type)},
    {(void *)(&NRF_TEMP_regs)                  ,0x41010000UL, sizeof(NRF_TEMP_Type)},
    {(void *)(&NRF_RTC_regs[NHW_RTC_NET0])     ,0x41011000UL, sizeof(NRF_RTC_Type)},
    {(void *)(&NRF_IPC_regs[NHW_IPC_NET0])     ,0x41012000UL, sizeof(NRF_IPC_Type)},
    //{(void *)NRF_SPIM0_NS_BASE       ,0x41013000UL, sizeof(NRF_*_Type), sizeof(NRF_*_Type)},
    //{(void *)NRF_SPIS0_NS_BASE       ,0x41013000UL, sizeof(NRF_*_Type), sizeof(NRF_*_Type)},
    //{(void *)NRF_TWIM0_NS_BASE       ,0x41013000UL, sizeof(NRF_*_Type), sizeof(NRF_*_Type)},
    //{(void *)NRF_TWIS0_NS_BASE       ,0x41013000UL, sizeof(NRF_*_Type), sizeof(NRF_*_Type)},
    {(void *)(&NRF_UARTE_regs[NHW_UARTE_NET0]) ,0x41013000UL, sizeof(NRF_UARTE_Type)},
    {(void *)(&NRF_EGU_regs[NHW_EGU_NET0])     ,0x41014000UL, sizeof(NRF_EGU_Type)},
    {(void *)(&NRF_RTC_regs[NHW_RTC_NET1])     ,0x41016000UL, sizeof(NRF_RTC_Type)},
    {(void *)(&NRF_TIMER_regs[NHW_TIMER_NET1]) ,0x41018000UL, sizeof(NRF_TIMER_Type)},
    {(void *)(&NRF_TIMER_regs[NHW_TIMER_NET2]) ,0x41019000UL, sizeof(NRF_TIMER_Type)},
    {(void *)(&NRF_SWI_regs[NHW_SWI_NET0])     ,0x4101A000UL, sizeof(int)},
    {(void *)(&NRF_SWI_regs[NHW_SWI_NET1])     ,0x4101B000UL, sizeof(int)},
    {(void *)(&NRF_SWI_regs[NHW_SWI_NET2])     ,0x4101C000UL, sizeof(int)},
    {(void *)(&NRF_SWI_regs[NHW_SWI_NET3])     ,0x4101D000UL, sizeof(int)},
    {(void *)(&NRF_MUTEX_regs)                 ,0x40030000UL, sizeof(NRF_MUTEX_Type)},
    {(void *)(&NRF_MUTEX_regs)                 ,0x50030000UL, sizeof(NRF_MUTEX_Type)},
    //{(void *)NRF_ACL_NS_BASE         ,0x41080000UL, sizeof(NRF_*_Type)},
    {(void *)(NRF_NVMC_regs_p[NHW_NVMC_NET0])  ,0x41080000UL, sizeof(NRF_NVMC_Type)},
    //{(void *)NRF_VMC_NS_BASE         ,0x41081000UL, sizeof(NRF_*_Type)},
    {(void *)(&NRF_GPIO_regs[NHW_GPIO_NET_P0]) ,0x418C0500UL, sizeof(NRF_GPIO_Type)},
    {(void *)(&NRF_GPIO_regs[NHW_GPIO_NET_P1]) ,0x418C0800UL, sizeof(NRF_GPIO_Type)},
  };

  *table = bs_malloc(sizeof(simu_real_conv_init));
  memcpy(*table, simu_real_conv_init, sizeof(simu_real_conv_init));
  return sizeof(simu_real_conv_init)/sizeof(simu_real_conv_init[0]);
}
